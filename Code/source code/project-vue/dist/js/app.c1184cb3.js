(function(t){function s(s){for(var a,o,r=s[0],c=s[1],l=s[2],u=0,d=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(s);while(d.length)d.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],a=!0,r=1;r<e.length;r++){var c=e[r];0!==i[c]&&(a=!1)}a&&(n.splice(s--,1),t=o(o.s=e[0]))}return t}var a={},i={app:0},n=[];function o(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=a,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)o.d(e,a,function(s){return t[s]}.bind(null,a));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var p=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"56d7":function(t,s,e){"use strict";e.r(s);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("keep-alive",[t.$route.meta.keepAlive?e("router-view"):t._e()],1),t.$route.meta.keepAlive?t._e():e("router-view")],1)},n=[],o={data:function(){return{}},created:function(){var t=this;sessionStorage.getItem("store")&&this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",(function(){sessionStorage.setItem("store",JSON.stringify(t.$store.state))}))}},r=o,c=(e("5c0b"),e("2877")),l=Object(c["a"])(r,i,n,!1,null,null,null),p=l.exports,u=e("8c4f"),d=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("div",{staticClass:"container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"main"},[a("span",{staticClass:"time"},[t._v(t._s(t.str))]),a("div",{staticClass:"pic"},[a("img",{attrs:{src:e("cf05"),alt:""}}),a("div",[a("span",{staticClass:"title"},[t._v("林业有害生物识别系统")]),a("span",{staticClass:"zuo"},[t._v("sk49")])])])]),a("div",{staticClass:"box"},[a("van-uploader",{attrs:{"preview-size":"150px","after-read":t.onRead,"max-count":1},on:{delete:t.handd},model:{value:t.fileList,callback:function(s){t.fileList=s},expression:"fileList"}}),a("br"),a("van-button",{staticClass:"upload",staticStyle:{width:"90%",padding:"20px"},attrs:{block:"",round:"",loading:t.isloading,"loading-text":"识别中...",color:"linear-gradient(135deg,#56c8ff,#6f99fc) ",icon:"plus",type:"primary"},on:{click:function(s){return t.fn(1)}}},[t._v("识别害虫")]),a("br"),a("van-button",{staticClass:"upload2",staticStyle:{width:"90%",padding:"20px"},attrs:{block:"",round:"",type:"primary",color:"linear-gradient(135deg,#56c8ff,#6f99fc) ",icon:"search",loading:t.isloading2,"loading-text":"识别中..."},on:{click:function(s){return t.fn(2)}}},[t._v("检测害⾍")])],1),a("van-popover",{staticStyle:{},attrs:{placement:"top-start",closed:"handdleClose",trigger:"click",actions:t.actions},model:{value:t.showPopover,callback:function(s){t.showPopover=s},expression:"showPopover"}},[a("div",{staticClass:"order"},[a("span",[t._v("Order Code："+t._s(t.propMsg.ORDER_CODE))]),a("span",[t._v("Familiy Code："+t._s(t.propMsg.FAMILIY_CODE))]),a("span",[t._v("Genus Code："+t._s(t.propMsg.GENUS_CODE))]),a("span",[t._v("Insect code："+t._s(t.propMsg.INSECT_CODE))]),a("span",[t._v("Food："+t._s(t.propMsg.FOOD))]),a("span",[t._v("Area："+t._s(t.propMsg.AREA))])])]),a("van-popup",{style:{height:"65%"},attrs:{closed:"handdleClose","safe-area-inset-bottom":"",position:"bottom"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[a("div",{staticClass:"popup_box"},[a("div",{staticClass:"little"},[a("van-image",{attrs:{round:"",cover:"",width:"180",height:"180",src:"data:image/png;base64,"+this.imgList1},on:{click:function(s){return t.Image("data:image/png;base64,"+t.imgList1)}}}),a("div",{staticClass:"title"},[a("span",[t._v("置信度:"+t._s(this.score1+"%"))]),a("span",[t._v("Order Name："+t._s(t.class1.ORDER_NAME))]),a("span",[t._v("Familiy Name："+t._s(t.class1.FAMILIY_NAME))]),a("span",[t._v("Genus Name："+t._s(t.class1.GENUS_NAME))]),a("span",[t._v("Insect Name："+t._s(t.class1.INSECT_NAME))]),a("span",[t._v("Lattn Name："+t._s(t.class1.LATIN_NAME))]),a("div",{staticClass:"more"},[a("a",{attrs:{href:"#"},on:{click:function(s){return t.more("class1")}}},[t._v("查看更多... ")])])])],1),a("div",{staticClass:"little"},[a("van-image",{attrs:{round:"",contain:"",fit:"cover",width:"180",height:"180",src:"data:image/png;base64,"+this.imgList2},on:{click:function(s){return t.Image(t.e)}}}),a("div",{staticClass:"title"},[a("span",[t._v("置信度:"+t._s(this.score2+"%"))]),a("span",[t._v("Order Name："+t._s(t.class2.ORDER_NAME))]),a("span",[t._v("Familiy Name："+t._s(t.class2.FAMILIY_NAME))]),a("span",[t._v("Genus Name："+t._s(t.class2.GENUS_NAME))]),a("span",[t._v("Insect Name："+t._s(t.class2.INSECT_NAME))]),a("span",[t._v("Lattn Name："+t._s(t.class2.LATIN_NAME))]),a("a",{attrs:{href:"#"},on:{click:function(s){return t.more("class2")}}},[t._v("查看更多...")])])],1),a("div",{staticClass:"little"},[a("van-image",{attrs:{round:"",contain:"",fit:"cover",width:"180",height:"180",src:"data:image/png;base64,"+this.imgList3}}),a("div",{staticClass:"title"},[a("span",[t._v("置信度:"+t._s(this.score3+"%"))]),a("span",[t._v("Order Name："+t._s(t.class3.ORDER_NAME))]),a("span",[t._v("Familiy Name："+t._s(t.class3.FAMILIY_NAME))]),a("span",[t._v("Genus Name："+t._s(t.class3.GENUS_NAME))]),a("span",[t._v("Insect Name："+t._s(t.class3.INSECT_NAME))]),a("span",[t._v("Lattn Name："+t._s(t.class3.LATIN_NAME))]),a("a",{attrs:{href:"#"},on:{click:function(s){return t.more("class3")}}},[t._v("查看更多...")])])],1)])])],1)])},f=[],v=(e("b64b"),e("28a2")),h=e("d399");a["a"].use(v["a"],h["a"]);var m={data:function(){return{str:3,isshow:!0,showPopover:!1,actions:[],isloading:!1,isloading2:!1,show:!1,file:{},fileList:[],imgList1:"",imgList2:"",imgList3:"",score1:"",score2:"",score3:"",class1:{},class2:{},class3:{},propMsg:{}}},activated:function(){console.log(1)},created:function(){this.isshow=!1;var t=this,s=setInterval((function(){t.str--,1===t.str&&(setTimeout((function(){t.isshow=!1}),1e3),clearInterval(s))}),1e3)},methods:{handd:function(t){this.file=""},detection:function(){},handdleClose:function(){this.class1={},this.class2={},this.class3={},this.score1="",this.score2="",this.score3="",this.imgList1="",this.imgList2="",this.imgList3="",this.propMsg={}},more:function(t){switch(t){case"class1":var s=this.class1;for(var e in s)this.$set(this.propMsg,e,s[e]);break;case"class2":var a=this.class2;for(var i in a)this.$set(this.propMsg,i,a[i]);break;case"class3":var n=this.class3;for(var o in n)this.$set(this.propMsg,o,n[o]);break}this.showPopover=!0},fn:function(t){var s=this;if(0===Object.keys(this.file).length)return alert("请选择文件"),!1;var e=new FormData;e.append("file",this.file.file),1===t?(this.isloading=!0,this.$axios.post("http://10.1.69.33:5002/predict?",e).then((function(t){if(console.log(t),0===Object.keys(t.data).length)return alert("接口返回空"),void(s.isloading=!1);var e=t.data,a=e.img1,i=e.img2,n=e.img3,o=e.score1,r=e.score2,c=e.score3,l=e.class1,p=e.class2,u=e.class3;s.score1=o,s.score2=r,s.score3=c,s.imgList1=a,s.imgList2=i,s.imgList3=n,s.class1=l,s.class2=p,s.class3=u,s.show=!0,s.isloading=!1}))):2===t&&(this.isloading2=!0,this.$axios.post("http://10.1.69.33:5002/detect?",e).then((function(t){if(200===t.status&&t.data.img){s.$store.commit("DETAIL",t.data);var e=h["a"].loading({duration:0,forbidClick:!0,message:"正在跳转结果页面"}),a=1,i=setInterval((function(){a--,a?e.message="正在跳转结果页面":(s.$router.push({path:"/detail"}),clearInterval(i),h["a"].clear())}),300);s.isloading2=!1}})).catch((function(t){alert("出错了"),console.log(t)})))},onRead:function(t){console.log(t),this.file=t}}},g=m,_=(e("9167"),Object(c["a"])(g,d,f,!1,null,"669245fc",null)),b=_.exports,N=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("van-icon",{staticClass:"back",attrs:{name:"arrow-left"},on:{click:t.back}}),e("div",{staticClass:"img"},[e("img",{staticStyle:{width:"80%",height:"80%"},attrs:{src:"data:image/png;base64,"+t.img,alt:""}})]),e("div",{staticClass:"box"},[e("van-button",{staticStyle:{"margin-top":"30px",width:"90%"},attrs:{round:"",block:"",color:"linear-gradient(135deg,#56c8ff,#6f99fc) ",type:"primary"},on:{click:t.fn}},[t._v("查看详情")])],1),e("van-popup",{style:{height:"60%"},attrs:{closed:"handdleClose","safe-area-inset-bottom":"",position:"bottom"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[e("div",{staticClass:"popup_box"},t._l(t.getdetail,(function(s,a,i){return e("div",{key:i,staticClass:"little"},[e("span"),e("div",{staticClass:"title"},[e("span",[t._v("Insect Code："+t._s(s.INSECT_CODE))]),e("span",[t._v("Nums ："+t._s(s.NUMS))]),e("span",[t._v("Order Name ："+t._s(s.ORDER_NAME))]),e("span",[t._v("Familiy Name ："+t._s(s.FAMILIY_NAME))]),e("span",[t._v("Genus Name："+t._s(s.GENUS_NAME))]),e("span",[t._v("Insect Name："+t._s(s.INSECT_NAME))]),e("span",[t._v("Latin Name："+t._s(s.LATIN_NAME))])])])})),0)])],1)},w=[],E={data:function(){return{show:!1}},created:function(){},computed:{img:function(){return this.$store.state.detail.img},getdetail:function(){var t=this.$store.state.detail;return delete t.img,t}},methods:{back:function(){this.$router.back()},fn:function(){this.show=!0}}},C=E,M=(e("e142"),Object(c["a"])(C,N,w,!1,null,"41f5d565",null)),y=M.exports;a["a"].use(u["a"]);var I=[{path:"/",name:"Home",component:b,meta:{keepAlive:!0}},{path:"/detail",component:y}],A=new u["a"]({routes:I}),k=A,O=e("2f62");a["a"].use(O["a"]);var L=new O["a"].Store({state:{detail:{},imgobj:{}},mutations:{DETAIL:function(t,s){t.detail=s},IMG:function(t,s){console.log(s),t.imgobj.aa=s}},actions:{},modules:{}}),x=e("b970"),S=e("bc3a"),$=e.n(S);e("157a");a["a"].prototype.$axios=$.a,$.a.baseURL="",a["a"].use(x["a"]),a["a"].config.productionTip=!1,new a["a"]({router:k,store:L,render:function(t){return t(p)}}).$mount("#app")},"5c0b":function(t,s,e){"use strict";e("9c0c")},9167:function(t,s,e){"use strict";e("b465")},"976e":function(t,s,e){},"9c0c":function(t,s,e){},b465:function(t,s,e){},cf05:function(t,s,e){t.exports=e.p+"img/logo.6b702d72.png"},e142:function(t,s,e){"use strict";e("976e")}});
//# sourceMappingURL=app.c1184cb3.js.map